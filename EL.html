<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Liza is my Love</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      background: #05081a;
      position: relative;
    }

    .star {
      position: absolute;
      border-radius: 50%;
      background: white;
      width: 2px;
      height: 2px;
      box-shadow:
        0 0 6px rgba(255, 255, 255, 0.8),
        0 0 12px rgba(255, 255, 255, 0.5),
        0 0 20px rgba(255, 255, 255, 0.3);
      opacity: 0.8;
      transform: scale(1);
      transition:
        opacity 1.5s ease,
        transform 1.5s ease;
      pointer-events: none;
    }

    .vanish {
      opacity: 0;
      transform: scale(0);
    }

    .appear {
      opacity: 0.8;
      transform: scale(1);
    }

    .lisa-text {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Pacifico', cursive;
      font-size: 3em;
      color: #ff69b4;
      opacity: 0;
      transition: opacity 600ms ease-in;
      pointer-events: none;
      text-shadow: 0 0 28px #ff69b4;
      z-index: 100;
      user-select: none;
      white-space: nowrap;
    }

    /* Особливий стиль для серця */
    .heart-text {
      color: #ff3c78 !important;
      text-shadow:
        0 0 10px #ff3c78,
        0 0 20px #ff3c78;
      font-size: 4em !important;
    }

    /* Картинка з анімацією появи та обертання */
    #finalImage {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 250px;
      height: 250px;
      border-radius: 20px;
      transform: translate(-50%, -50%) rotate(0deg);
      opacity: 0;
      transition: opacity 1s ease;
      z-index: 200;
      user-select: none;
    }

    @keyframes rotate360 {
      from { transform: translate(-50%, -50%) rotate(0deg); }
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }

    .explosion {
  position: absolute;
  width: 100px; /* або адаптивна ширина */
  height: 100px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 10;
}
@media (max-width: 600px) {
  body {
    font-size: 13px;
  }
}
@media (max-width: 768px) {
  .explosion {
    width: 60px;
    height: 60px;
  }

  .text {
    font-size: 13px;
    top: 25%;
  }
}
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
}

.explosion-container {
  position: relative;
  width: 100%;
  height: 100vh;
}
body {
  padding: 0 20px;
  margin: 0;
  box-sizing: border-box;
  overflow-x: hidden;
}

.explosion-text {
  max-width: 100%;
  word-wrap: break-word;
  text-align: center;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

@media (max-width: 600px) {
  body {
    font-size: 13px;
  }
}

  </style>
</head>
<body>
  <script>
    function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

    const STAR_COUNT = 100;
    const stars = [];
    const w = window.innerWidth;
    const h = window.innerHeight;

    function randomPosition() {
      return {
        x: Math.random() * w,
        y: Math.random() * h
      };
    }

    function createStar(x, y, hidden = false) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.left = `${x}px`;
      star.style.top = `${y}px`;

      if (hidden) {
        star.style.opacity = 0;
        star.style.transform = 'scale(0)';
      }

      document.body.appendChild(star);

      if (hidden) {
        setTimeout(() => {
          star.classList.add('appear');
        }, 50);
      }

      return star;
    }

    for (let i = 0; i < STAR_COUNT; i++) {
      const { x, y } = randomPosition();
      const star = createStar(x, y);
      stars.push(star);
    }

    setInterval(() => {
      const index = Math.floor(Math.random() * stars.length);
      const star = stars[index];
      star.classList.add('vanish');

      setTimeout(() => {
        if (star.parentNode) {
          star.parentNode.removeChild(star);
        }
        stars.splice(index, 1);
        const { x, y } = randomPosition();
        const newStar = createStar(x, y, true);
        stars.push(newStar);
      }, 500);
    }, 1000);


    // --- Оновлена функція вибуху ---
    function runExplosion(textContent, isHeart = false) {
      return new Promise(resolve => {
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;

        // Створюємо текст
        const text = document.createElement('div');
        text.className = 'lisa-text';
        if (isHeart) text.classList.add('heart-text');
        text.textContent = textContent;
        document.body.appendChild(text);

        // Показати текст
        setTimeout(() => { text.style.opacity = '1'; }, 100);

        // Створюємо частинки вибуху
        const particles = [];
        const particleCount = 80;
        for (let i = 0; i < particleCount; i++) {
          const angle = (Math.PI * 2 * i) / particleCount;
          const speed = Math.random() * 2 + 3;
          const particle = document.createElement('div');
          particle.style.position = 'absolute';
          particle.style.left = `${centerX}px`;
          particle.style.top = `${centerY}px`;
          particle.style.width = '6px';
          particle.style.height = '6px';
          particle.style.borderRadius = '50%';
          particle.style.background = isHeart ? '#ff3c78' : '#ff69b4';
          particle.style.boxShadow = isHeart ? '0 0 16px 8px #ff3c78' : '0 0 16px 8px #ff69b4';
          particle.style.opacity = '1';
          particle.style.pointerEvents = 'none';
          particle.style.transition = 'opacity 600ms ease-in';

          document.body.appendChild(particle);
          particles.push({ el: particle, angle, speed });
        }

        let frame = 0;
        const maxFrames = 100;

        const animate = () => {
          frame++;
          particles.forEach(p => {
            const dx = Math.cos(p.angle) * p.speed * frame;
            const dy = Math.sin(p.angle) * p.speed * frame;
            p.el.style.left = `${centerX + dx}px`;
            p.el.style.top = `${centerY + dy}px`;

            if (frame === Math.floor(maxFrames / 2)) {
              p.el.style.opacity = '0';
            }
          });

          if (frame === Math.floor(maxFrames / 2)) {
            text.style.opacity = '0';
          }

          if (frame < maxFrames) {
            requestAnimationFrame(animate);
          } else {
            particles.forEach(p => p.el.remove());
            text.remove();
            resolve();
          }
        };

        animate();
      });
    }

    // Показати зображення з обертанням
    function showFinalImage() {
      return new Promise(resolve => {
        const img = document.createElement('img');
        img.id = 'finalImage';
        img.src = 'hhhh.jpg'; // Заміни на своє зображення
        img.alt = 'Фінальне зображення';
        document.body.appendChild(img);

        setTimeout(() => {
          img.style.opacity = '1';
          img.style.animation = 'rotate360 1s linear 3';
          resolve();
        }, 100);
      });
    }

    // Додаємо keyframes для обертання
    const style = document.createElement('style');
    style.textContent = `
      @keyframes rotate360 {
        from { transform: translate(-50%, -50%) rotate(0deg); }
        to { transform: translate(-50%, -50%) rotate(360deg); }
      }
    `;
    document.head.appendChild(style);

    // Запуск ракети та послідовності вибухів
    function runSequence() {
      // Створюємо ракету
      const rocket = document.createElement('div');
      rocket.style.position = 'absolute';
      rocket.style.left = `${window.innerWidth / 2}px`;
      rocket.style.top = `${window.innerHeight - 30}px`;
      rocket.style.width = '8px';
      rocket.style.height = '8px';
      rocket.style.borderRadius = '50%';
      rocket.style.background = '#fff';
      rocket.style.boxShadow = '0 0 24px 8px #fff';
      rocket.style.zIndex = '10';
      rocket.style.transition = 'top 1s linear';

      document.body.appendChild(rocket);

      setTimeout(() => {
        rocket.style.top = `${window.innerHeight / 2}px`;
      }, 50);

      setTimeout(async () => {
    rocket.remove();

    await runExplosion('Lisa is the best');
    await sleep(1200); // 2 секунди паузи

    await runExplosion('Lisa is my beloved girl');
    await sleep(1200); // 2 секунди паузи

    await runExplosion('I love youuu❤️', true);
    await sleep(1200); // 2 секунди паузи

    showFinalImage();

  }, 1100);
}

    // Запуск послідовності через 2 секунди після завантаження
    setTimeout(() => {
      runSequence();
    }, 2000);
  </script>
</body>
</html>
